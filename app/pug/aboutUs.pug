section#about.page-section
    .container
        .row
            .col
                .service-item
                    .icon
                        img(src="./images/service_icon_01.png", alt="website template image")
                    h4 Smart Notifications
                    .line-dec
                    p Curabitur non risus fringilla libero accumsan molestie et quis justo. Cras aliquam tempor sem, vestibulum facilisis dui. Mauris malesuada porta.
                    .primary-blue-button
                        a.scroll-link(data-id="portfolio") Continue Reading
            .col
                .service-item
                    .icon
                        img(src="./images/service_icon_02.png", alt="website template image")
                    h4 Lovely Web Design
                    .line-dec
                    p Suspendisse magna mauris, convallis vel finibus eget, lobortis dictum neque. Nam tincidunt metus nec eros dignissim consectetur. Duis mollis.
                    .primary-blue-button
                        a.scroll-link(data-id="portfolio") Continue Reading
            .col
                .service-item
                    .icon
                        img(src="./images/service_icon_03.png", alt="website template image")
                    h4 Quick Support
                    .line-dec
                    p Etiam quis ullamcorper augue. Morbi leo libero, malesuada eget eleifend eu, interdum sed augue. Sed tempor mi quis rhoncus convallis.
                    .primary-blue-button
                        a.scroll-link(data-id="portfolio") Continue Reading
            .col
                .service-item
                    .icon
                        img(src="./images/service_icon_04.png", alt="website template image")
                    h4 One-Click Setup
                    .line-dec
                    p Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent viverra, nunc et mollis fermentum.
                    .primary-blue-button
                        a.scroll-link(data-id="portfolio") Continue Reading
script.
    const navToggleBtn = document.getElementById('nav-toggle');
    const toggleList =  document.querySelector('.navbar-nav');
    navToggleBtn.addEventListener('click', event => {
        if (toggleList.classList.contains('unactived-menu')) 
            toggleList.classList.remove('unactived-menu');
        else toggleList.classList.add('unactived-menu');
    });

    document.addEventListener("DOMContentLoaded",function() {
    window.addEventListener("scroll", function(){
        var x = window.pageYOffset;
        document.querySelector('.baner-content').style.backgroundPosition = `center calc(50% + ${x/111 * 50.5}px)`;
        });
    });

    document.addEventListener("DOMContentLoaded",function() {
    window.addEventListener("scroll", function(){
        var x = window.pageYOffset;
        if (x > 115) {
            document.querySelector('.header').classList.add('header__scroll-effect');
            document.querySelector('.navbar-brand').classList.add('navbar-brand__scroll-effect');
            document.querySelectorAll('.navbar-nav li a').forEach(item => {
                item.classList.add('a__scroll-effect');
            });
        } else {
            document.querySelector('.header').classList.remove('header__scroll-effect');
            document.querySelector('.navbar-brand').classList.remove('navbar-brand__scroll-effect');
            document.querySelectorAll('.navbar-nav li a').forEach(item => {
                item.classList.remove('a__scroll-effect');
                });
            }
        });
    });

    const itemList = document.querySelectorAll('.scroll-link');
    itemList.forEach(item => {
        item.addEventListener('click', () => {
            if (!toggleList.classList.contains('unactived-menu')) 
                toggleList.classList.add('unactived-menu');
            let ele = document.getElementById(item.getAttribute('data-id'));
            doScrolling(ele.offsetTop, 600);
        });
    });

    function doScrolling(elementY, duration) {
        var startingY = window.pageYOffset;
        var diff = elementY - startingY;
        var start;
        window.requestAnimationFrame(function step(timestamp) {
            if (!start) start = timestamp;
            var time = timestamp - start;
            var percent = Math.min(time / duration, 1);
            window.scrollTo(0, startingY + diff * percent);
            if (time < duration) {
                window.requestAnimationFrame(step);
            }
        });
    }

    const scrollTop = document.querySelectorAll('.scroll-top');
    scrollTop.forEach((item) => {
        item.addEventListener('click', () => {
            if (!toggleList.classList.contains('unactived-menu')) 
                toggleList.classList.add('unactived-menu');
            doScrolling(0, 600);;
        });
    });